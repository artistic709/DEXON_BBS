parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QVnC":[function(require,module,exports) {
var t=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e,n){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=h(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function h(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={};function v(){}function d(){}function g(){}var m={};m[i]=function(){return this};var w=Object.getPrototypeOf,L=w&&w(w(G([])));L&&L!==e&&n.call(L,i)&&(m=L);var x=g.prototype=v.prototype=Object.create(m);function E(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function b(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=h(t[e],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function _(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,_(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:r,done:!0}}return d.prototype=x.constructor=g,g.constructor=d,g[c]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(r,e,n,o){var i=new b(u(r,e,n,o));return t.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),x[c]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:G(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}
},{}],"PMvg":[function(require,module,exports) {
module.exports=require("regenerator-runtime");
},{"regenerator-runtime":"QVnC"}],"uUAn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/regenerator"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t,n,r,o,i,s){try{var u=e[i](s),c=u.value}catch(l){return void n(l)}u.done?t(c):Promise.resolve(c).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var s=e.apply(t,r);function u(e){n(s,o,i,u,c,"next",e)}function c(e){n(s,o,i,u,c,"throw",e)}u(void 0)})}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var h=function(){function e(){a(this,e),this._events={}}return f(e,[{key:"on",value:function(e,t){var n=this._events[e]||[];return n.push(t),this._events[e]=n,this}},{key:"off",value:function(e,t){var n=this._events[e];return this._events[e]=n&&n.filter(function(e){return e!==t}),this}},{key:"emit",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],i=[].slice.call(n,1),s=this._events[o];return s&&s.forEach(function(t){return t.apply(e,i)}),this}},{key:"once",value:function(e,t){var n=this;return this.on(e,function r(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];t.apply(n,i),n.off(e,r)}),this}}]),e}(),p=function(e){function t(e){var n;return a(this,t),(n=i(this,u(t).call(this))).injectedProvider=e,n.injectedAddress=null,n.seedAddress=null,n.__loginType=null,n.__seed=localStorage.getItem("dett-seed")||null,n}return c(t,h),f(t,[{key:"init",value:function(){var e=localStorage.getItem("dett-login-type");e&&this.commitLoginType(e)}},{key:"commitLoginType",value:function(e){this.__loginType=e;this.wallet;if("seed"==e&&!this.wallet)throw new Error("Seed is to be used but no valid wallet is given.");this.activeAccount&&this.emit("login",{account:this.activeAccount,wallet:"seed"==e?this.wallet:null})}},{key:"loginType",get:function(){return this.__loginType}},{key:"activeAccount",get:function(){var e=this.loginType;return"injected"==e?this.injectedAddress:"seed"==e?this.seedAddress:null!=e?(console.warn("[IdentityManager] Unsupported login type",e),""):void 0}},{key:"seed",get:function(){return this.__seed},set:function(e){null!=e?(this.__seed=e,localStorage.setItem("dett-seed",e)):localStorage.removeItem("dett-seed")}}]),t}(),y=function(t){function n(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a(this,n),(t=i(this,u(n).call(this))).providerName=null,t.dexonWeb3="",t.__selectedAddress=null,t.__networkId=null,[{name:"DEXON Wallet",factory:function(){return e}},{name:"MetaMask",factory:function(){return window.ethereum}}].some(function(e){var n=e.name,r=(0,e.factory)();return!!r&&(t.dexon=r,t.providerName=n,!0)}),t.isOfficial=t.dexon&&t.dexon==e,t.identityManager=r||new p(t.dexon),t.init(),t}return c(n,h),f(n,[{key:"init",value:function(){var t=this;if(this.dexon)if(this.dexonWeb3=new Web3(this.dexon),this.dexonWeb3.currentProvider.publicConfigStore)this.dexonWeb3.currentProvider.publicConfigStore.on("update",function(e){"networkVersion"in e&&"237"===e.networkVersion&&(t.selectedAddress="selectedAddress"in e?e.selectedAddress:"")});else{var n=function(){var n=r(e.default.mark(function n(){var r,o,i;return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dexonWeb3.eth.net.getId();case 2:if(r=e.sent,t.networkId=r,237!==r){e.next=11;break}return e.next=7,t.dexonWeb3.eth.getAccounts();case 7:o=e.sent,t.selectedAddress=o.length>0?o[0]:"",e.next=15;break;case 11:return(i=new Error("Wrong network")).code="wrong-network",t.emit("error",i),e.abrupt("return");case 15:case"end":return e.stop()}},n)}));return function(){return n.apply(this,arguments)}}();n(),setInterval(n,1e3)}}},{key:"login",value:function(){if(!this.dexon)return alert("DEXON Wallet not detected. (請安裝 DEXON 瀏覽器擴充套件)");this.dexon.enable(),this.init()}},{key:"selectedAddress",get:function(){return this.__selectedAddress},set:function(e){this.__selectedAddress!=e&&(this.emit("update",e),this.__selectedAddress=e)}},{key:"networkId",get:function(){return this.__networkId},set:function(e){this.__networkId!=e&&(this.emit("updateNetwork",{id:e,isValid:237===e}),this.__networkId=e)}}]),n}(),v=y;exports.default=v;
},{"@babel/runtime/regenerator":"PMvg"}],"u0D5":[function(require,module,exports) {
module.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;
},{}],"Koj5":[function(require,module,exports) {
module.exports=/[\0-\x1F\x7F-\x9F]/;
},{}],"oncj":[function(require,module,exports) {
module.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;
},{}],"0qNf":[function(require,module,exports) {
module.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;
},{}],"HopJ":[function(require,module,exports) {
"use strict";module.exports=function(_){var r={};r.src_Any=require("uc.micro/properties/Any/regex").source,r.src_Cc=require("uc.micro/categories/Cc/regex").source,r.src_Z=require("uc.micro/categories/Z/regex").source,r.src_P=require("uc.micro/categories/P/regex").source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|");return r.src_pseudo_letter="(?:(?![><｜]|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|[><｜]|"+r.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+r.src_ZCc+"|[.]).|"+(_&&_["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+r.src_ZCc+").|\\!(?!"+r.src_ZCc+"|[!]).|\\?(?!"+r.src_ZCc+"|[?]).)+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|[><｜]|\\(|"+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+r.src_ZPCc+"))((?![$+<=>^`|｜])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+r.src_ZPCc+"))((?![$+<=>^`|｜])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r};
},{"uc.micro/properties/Any/regex":"u0D5","uc.micro/categories/Cc/regex":"Koj5","uc.micro/categories/Z/regex":"oncj","uc.micro/categories/P/regex":"0qNf"}],"cs3C":[function(require,module,exports) {
"use strict";function t(t){return Array.prototype.slice.call(arguments,1).forEach(function(_){_&&Object.keys(_).forEach(function(e){t[e]=_[e]})}),t}function _(t){return Object.prototype.toString.call(t)}function e(t){return"[object String]"===_(t)}function i(t){return"[object Object]"===_(t)}function s(t){return"[object RegExp]"===_(t)}function n(t){return"[object Function]"===_(t)}function r(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var o={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function h(t){return Object.keys(t||{}).reduce(function(t,_){return t||o.hasOwnProperty(_)},!1)}var a={"http:":{validate:function(t,_,e){var i=t.slice(_);return e.re.http||(e.re.http=new RegExp("^\\/\\/"+e.re.src_auth+e.re.src_host_port_strict+e.re.src_path,"i")),e.re.http.test(i)?i.match(e.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,_,e){var i=t.slice(_);return e.re.no_http||(e.re.no_http=new RegExp("^"+e.re.src_auth+"(?:localhost|(?:(?:"+e.re.src_domain+")\\.)+"+e.re.src_domain_root+")"+e.re.src_port+e.re.src_host_terminator+e.re.src_path,"i")),e.re.no_http.test(i)?_>=3&&":"===t[_-3]?0:_>=3&&"/"===t[_-3]?0:i.match(e.re.no_http)[0].length:0}},"mailto:":{validate:function(t,_,e){var i=t.slice(_);return e.re.mailto||(e.re.mailto=new RegExp("^"+e.re.src_email_name+"@"+e.re.src_host_strict,"i")),e.re.mailto.test(i)?i.match(e.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(t){t.__index__=-1,t.__text_cache__=""}function p(t){return function(_,e){var i=_.slice(e);return t.test(i)?i.match(t)[0].length:0}}function m(){return function(t,_){_.normalize(t)}}function d(t){var _=t.re=require("./lib/re")(t.__opts__),o=t.__tlds__.slice();function h(t){return t.replace("%TLDS%",_.src_tlds)}t.onCompile(),t.__tlds_replaced__||o.push(c),o.push(_.src_xn),_.src_tlds=o.join("|"),_.email_fuzzy=RegExp(h(_.tpl_email_fuzzy),"i"),_.link_fuzzy=RegExp(h(_.tpl_link_fuzzy),"i"),_.link_no_ip_fuzzy=RegExp(h(_.tpl_link_no_ip_fuzzy),"i"),_.host_fuzzy_test=RegExp(h(_.tpl_host_fuzzy_test),"i");var a=[];function l(t,_){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+_)}t.__compiled__={},Object.keys(t.__schemas__).forEach(function(_){var r=t.__schemas__[_];if(null!==r){var o={validate:null,link:null};if(t.__compiled__[_]=o,i(r))return s(r.validate)?o.validate=p(r.validate):n(r.validate)?o.validate=r.validate:l(_,r),void(n(r.normalize)?o.normalize=r.normalize:r.normalize?l(_,r):o.normalize=m());e(r)?a.push(_):l(_,r)}}),a.forEach(function(_){t.__compiled__[t.__schemas__[_]]&&(t.__compiled__[_].validate=t.__compiled__[t.__schemas__[_]].validate,t.__compiled__[_].normalize=t.__compiled__[t.__schemas__[_]].normalize)}),t.__compiled__[""]={validate:null,normalize:m()};var d=Object.keys(t.__compiled__).filter(function(_){return _.length>0&&t.__compiled__[_]}).map(r).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+_.src_ZPCc+"))("+d+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+_.src_ZPCc+"))("+d+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),u(t)}function f(t,_){var e=t.__index__,i=t.__last_index__,s=t.__text_cache__.slice(e,i);this.schema=t.__schema__.toLowerCase(),this.index=e+_,this.lastIndex=i+_,this.raw=s,this.text=s,this.url=s}function x(t,_){var e=new f(t,_);return t.__compiled__[e.schema].normalize(e,t),e}function z(_,e){if(!(this instanceof z))return new z(_,e);e||h(_)&&(e=_,_={}),this.__opts__=t({},o,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=t({},a,_),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},d(this)}z.prototype.add=function(t,_){return this.__schemas__[t]=_,d(this),this},z.prototype.set=function(_){return this.__opts__=t(this.__opts__,_),this},z.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var _,e,i,s,n,r,o,h;if(this.re.schema_test.test(t))for((o=this.re.schema_search).lastIndex=0;null!==(_=o.exec(t));)if(s=this.testSchemaAt(t,_[2],o.lastIndex)){this.__schema__=_[2],this.__index__=_.index+_[1].length,this.__last_index__=_.index+_[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(h=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||h<this.__index__)&&null!==(e=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(n=e.index+e[1].length,(this.__index__<0||n<this.__index__)&&(this.__schema__="",this.__index__=n,this.__last_index__=e.index+e[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(i=t.match(this.re.email_fuzzy))&&(n=i.index+i[1].length,r=i.index+i[0].length,(this.__index__<0||n<this.__index__||n===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=n,this.__last_index__=r)),this.__index__>=0},z.prototype.pretest=function(t){return this.re.pretest.test(t)},z.prototype.testSchemaAt=function(t,_,e){return this.__compiled__[_.toLowerCase()]?this.__compiled__[_.toLowerCase()].validate(t,e,this):0},z.prototype.match=function(t){var _=0,e=[];this.__index__>=0&&this.__text_cache__===t&&(e.push(x(this,_)),_=this.__last_index__);for(var i=_?t.slice(_):t;this.test(i);)e.push(x(this,_)),i=i.slice(this.__last_index__),_+=this.__last_index__;return e.length?e:null},z.prototype.tlds=function(t,_){return t=Array.isArray(t)?t:[t],_?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,_,e){return t!==e[_-1]}).reverse(),d(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,d(this),this)},z.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},z.prototype.onCompile=function(){},module.exports=z;
},{"./lib/re":"HopJ"}],"H0qN":[function(require,module,exports) {
"use strict";module.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e};
},{}],"yScC":[function(require,module,exports) {
"use strict";var n,e=Object.prototype.hasOwnProperty;function t(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch(e){return null}}function r(n){try{return encodeURIComponent(n)}catch(e){return null}}function o(n){for(var e,r=/([^=?&]+)=?([^&]*)/g,o={};e=r.exec(n);){var u=t(e[1]),c=t(e[2]);null===u||null===c||u in o||(o[u]=c)}return o}function u(t,r){r=r||"";var o,u,c=[];for(u in"string"!=typeof r&&(r="?"),t)if(e.call(t,u)){if((o=t[u])||null!==o&&o!==n&&!isNaN(o)||(o=""),u=encodeURIComponent(u),o=encodeURIComponent(o),null===u||null===o)continue;c.push(u+"="+o)}return c.length?r+c.join("&"):""}exports.stringify=u,exports.parse=o;
},{}],"xKrr":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],t=require("requires-port"),o=require("querystringify"),r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",n=new RegExp("^"+a+"+");function i(e){return(e||"").toString().replace(n,"")}var h=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function u(t){var o,s=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},a={},n=typeof(t=t||s);if("blob:"===t.protocol)a=new f(unescape(t.pathname),{});else if("string"===n)for(o in a=new f(t,{}),p)delete a[o];else if("object"===n){for(o in t)o in p||(a[o]=t[o]);void 0===a.slashes&&(a.slashes=r.test(t.href))}return a}function l(e){e=i(e);var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function c(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,s=o[r-1],a=!1,n=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),n++):n&&(0===r&&(a=!0),o.splice(r,1),n--);return a&&o.unshift(""),"."!==s&&".."!==s||o.push(""),o.join("/")}function f(e,r,s){if(e=i(e),!(this instanceof f))return new f(e,r,s);var a,n,p,m,y,d,g=h.slice(),v=typeof r,w=this,x=0;for("object"!==v&&"string"!==v&&(s=r,r=null),s&&"function"!=typeof s&&(s=o.parse),r=u(r),a=!(n=l(e||"")).protocol&&!n.slashes,w.slashes=n.slashes||a&&r.slashes,w.protocol=n.protocol||r.protocol||"",e=n.rest,n.slashes||(g[3]=[/(.*)/,"pathname"]);x<g.length;x++)"function"!=typeof(m=g[x])?(p=m[0],d=m[1],p!=p?w[d]=e:"string"==typeof p?~(y=e.indexOf(p))&&("number"==typeof m[2]?(w[d]=e.slice(0,y),e=e.slice(y+m[2])):(w[d]=e.slice(y),e=e.slice(0,y))):(y=p.exec(e))&&(w[d]=y[1],e=e.slice(0,y.index)),w[d]=w[d]||a&&m[3]&&r[d]||"",m[4]&&(w[d]=w[d].toLowerCase())):e=m(e);s&&(w.query=s(w.query)),a&&r.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==r.pathname)&&(w.pathname=c(w.pathname,r.pathname)),t(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(m=w.auth.split(":"),w.username=m[0]||"",w.password=m[1]||""),w.origin=w.protocol&&w.host&&"file:"!==w.protocol?w.protocol+"//"+w.host:"null",w.href=w.toString()}function m(e,r,s){var a=this;switch(e){case"query":"string"==typeof r&&r.length&&(r=(s||o.parse)(r)),a[e]=r;break;case"port":a[e]=r,t(r,a.protocol)?r&&(a.host=a.hostname+":"+r):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=r,a.port&&(r+=":"+a.port),a.host=r;break;case"host":a[e]=r,/:\d+$/.test(r)?(r=r.split(":"),a.port=r.pop(),a.hostname=r.join(":")):(a.hostname=r,a.port="");break;case"protocol":a.protocol=r.toLowerCase(),a.slashes=!s;break;case"pathname":case"hash":if(r){var n="pathname"===e?"/":"#";a[e]=r.charAt(0)!==n?n+r:r}else a[e]=r;break;default:a[e]=r}for(var i=0;i<h.length;i++){var p=h[i];p[4]&&(a[p[1]]=a[p[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a}function y(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,s=r.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var a=s+(r.slashes?"//":"");return r.username&&(a+=r.username,r.password&&(a+=":"+r.password),a+="@"),a+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(a+=r.hash),a}f.prototype={set:m,toString:y},f.extractProtocol=l,f.location=u,f.trimLeft=i,f.qs=o,module.exports=f;
},{"requires-port":"H0qN","querystringify":"yScC"}],"2138":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.awaitTx=exports.parseContent=exports.parseUser=exports.parseText=exports.getUrlParameter=exports.htmlEntities=void 0;var e=r(require("linkify-it")),t=r(require("url-parse"));function r(e){return e&&e.__esModule?e:{default:e}}var a=(0,e.default)(),n={"www.youtube.com":{type:"youtube",code:'<iframe class="youtube-player" type="text/html" src="" frameborder="0"  allowfullscreen></iframe>'}},o=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};exports.htmlEntities=o;var u=function(e){for(var t=window.location.search.substring(1).split("&"),r=[],a=0;a<t.length;a++)if((r=t[a].split("="))[0]===e)return void 0===r[1]?"":decodeURIComponent(r[1]);return""};exports.getUrlParameter=u;var s=function(e,t){for(var r="",a=0,n=0;n<e.length&&(e[n].match(/[\u4e00-\u9fa5]/g)?(r+=e[n],a+=2):e[n].match(/[\u0800-\u4e00]/g)?(r+=e[n],a+=2):e[n].match(/[\uff00-\uffff]/g)?(r+=e[n],a+=2):(r+=e[n],a++),a!==t);n++)a>t&&(r=r.substr(0,r.length-1));return r};exports.parseText=s;var l=function(e,t){return t&&t.name?t.name:e.replace(/^(0x.{4}).+(.{4})$/,"$1…$2")};exports.parseUser=l;var i=function(e){var r=new t.default(e),a={allowed:!0,element:null},o=n[r.hostname];if(void 0===o)return a.allowed=!1,a;var u=$('<div class="richcontent"></div>'),s=$('<div class="resize-container"></div>'),l=$('<div class="resize-content"></div>'),i=$(o.code);if("youtube"===o.type){var c="https://www.youtube.com/embed/".concat(r.query.replace("?v=",""));i.attr("src",c),l.html(i),s.html(l),u.html(s)}return a.element=u[0],a},c=function(e,t){var r=a.match(e),n=[];if(r){var o=0;r.forEach(function(r){o<r.index&&n.push(document.createTextNode(e.slice(o,r.index)));var a=$('<a target="_blank"></a>');a.attr("href",r.url),a.text(r.text),n.push(a[0]);var u="post"===t?i(r.url):null;u&&u.allowed&&n.push(u.element),o=r.lastIndex}),o<e.length&&n.push(document.createTextNode(e.slice(o)))}else n.push(document.createTextNode(e));return n};exports.parseContent=c;var p=function(e){var t=!1;return new Promise(function(r,a){e.on("confirmation",function(e,a){t||(t=!0,r(a))}).catch(function(e){t||(t=!0,a(e))})})};exports.awaitTx=p;
},{"linkify-it":"cs3C","url-parse":"xKrr"}],"7mu2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("@babel/runtime/regenerator")),e=require("./utils");function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return i(t)||s(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t,e){var n=[],a=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(u){r=!0,s=u}finally{try{a||null==o.return||o.return()}finally{if(r)throw s}}return n}function i(t){if(Array.isArray(t))return t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n,a,r,s,i){try{var o=t[s](i),u=o.value}catch(p){return void n(p)}o.done?e(u):Promise.resolve(u).then(a,r)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function i(t){u(s,a,r,i,o,"next",t)}function o(t){u(s,a,r,i,o,"throw",t)}i(void 0)})}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function b(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var v=null,w=null,x=[{constant:!1,inputs:[{name:"content",type:"string"}],name:"Post",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"content",type:"string"}],name:"Posted",type:"event"}],g=[{constant:!1,inputs:[{name:"content",type:"string"}],name:"Post",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"origin",type:"bytes32"},{name:"vote",type:"uint256"},{name:"content",type:"string"}],name:"Reply",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"origin",type:"bytes32"},{indexed:!1,name:"vote",type:"uint256"},{indexed:!1,name:"content",type:"string"}],name:"Replied",type:"event"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"downvotes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"upvotes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"bytes32"}],name:"voted",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],B=[{constant:!0,inputs:[{name:"",type:"address"}],name:"isAdmin",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"who",type:"address"},{name:"_isAdmin",type:"bool"}],name:"setAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"origin",type:"bytes32"},{name:"_banned",type:"bool"}],name:"ban",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"banned",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"category",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_category",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"origin",type:"bytes32"},{indexed:!1,name:"banned",type:"bool"},{indexed:!1,name:"admin",type:"address"}],name:"Ban",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}],k=[{constant:!1,inputs:[{name:"origin",type:"bytes32"},{name:"content",type:"string"}],name:"edit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"origin",type:"bytes32"},{indexed:!1,name:"content",type:"string"}],name:"Edited",type:"event"}],M=[{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_lobby",type:"address"},{name:"_isLobby",type:"bool"}],name:"setLobby",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"migrated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"meta",type:"string"}],name:"setMeta",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"who",type:"address"},{name:"ref",type:"address"}],name:"setReferrerByAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"wallet",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"getPlayer",outputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"who",type:"address"},{name:"amount",type:"uint256"}],name:"addExp",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"getLV",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_fee",type:"uint256"}],name:"setFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"name",type:"string"}],name:"checkIfNameValid",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"name",type:"string"}],name:"useAnotherName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"name2addr",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"link",type:"address"}],name:"setLink",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newPlayerBook",type:"address"}],name:"migrate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"who",type:"address"},{name:"ref",type:"bytes32"}],name:"setReferrerByName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"bytes32"}],name:"isMyName",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"fee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_wallet",type:"address"}],name:"setWallet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"players",outputs:[{name:"name",type:"bytes32"},{name:"names",type:"uint256"},{name:"exp",type:"uint256"},{name:"referrer",type:"address"},{name:"link",type:"address"},{name:"meta",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isLobby",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"name",type:"string"}],name:"register",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"playerAddress",type:"address"},{indexed:!0,name:"playerName",type:"bytes32"}],name:"SetNewName",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}],_=[{constant:!1,inputs:[{name:"milestone",type:"bytes32"}],name:"addMilestone",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"clearMilestone",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"long",type:"bytes32"},{name:"short",type:"bytes32"}],name:"link",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"long",type:"bytes32"},{indexed:!1,name:"short",type:"bytes32"}],name:"Link",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!0,inputs:[],name:"getMilestones",outputs:[{name:"",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"links",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],S="0x663002C4E41E5d04860a76955A7B9B8234475952",E="0xec368ba43010056abb3e5afd01957ea1fdbd3d8f",C="0x88eb672e01c1a2a6f398b9d52c7dab5f87ca8c2c",P="0x826cb3e5aa484869d9511aad3ead74d382608147",A="0x1BEB78368d5182F1f4a9868b3c78270e54976a86",O="0xff9cae0ecec479b87472df77b1f5d8d182ab7658",T="1170000",L=40,j=56,I=20,W=function(){function t(){f(this,t)}return b(t,null,[{key:"getAuthorMeta",value:function(e){var n=e.toLowerCase(),a=t._metaCache;if(a.has(n))return a.get(n);var r=new v.eth.Contract(M,A).methods.getPlayer(e).call().then(function(t){return{name:v.utils.hexToUtf8(t[0]),names:+t[1],exp:+t[2],referrer:t[3],link:t[4],meta:t[5]}});return a.set(n,r),r}}]),t}();W._metaCache=new Map;var F=function(n){function a(t){var e;return f(this,a),(e=c(this,y(a).call(this))).transaction=t,e.rawContent=v.utils.hexToUtf8("0x"+e.transaction.input.slice(138)),e.titleMatch=!1,e.title=e.getTitle(),e.content=e.getContent(),e.author=e.transaction.from,e.editTimestamps=[],e}return d(a,W),b(a,[{key:"init",value:function(){var e=p(t.default.mark(function e(){return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.eth.getBlock(this.transaction.blockNumber);case 2:return this.block=t.sent,t.next=5,a.getAuthorMeta(this.transaction.from);case 5:this.authorMeta=t.sent,this.timestamp=this.block.timestamp;case 7:case"end":return t.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initEdits",value:function(){var e=p(t.default.mark(function e(n){var a,r,s,i,o,u,p;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!0,r=!1,s=void 0,t.prev=3,i=n[Symbol.iterator]();case 5:if(a=(o=i.next()).done){t.next=21;break}return u=o.value,t.next=9,v.eth.getTransaction(u.transactionHash);case 9:if(t.sent.from!==this.author){t.next=18;break}return this.rawContent=u.returnValues.content,this.title=this.getTitle(),this.content=this.getContent(),t.next=16,v.eth.getBlock(u.blockNumber);case 16:p=t.sent,this.editTimestamps.push(p.timestamp);case 18:a=!0,t.next=5;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(3),r=!0,s=t.t0;case 27:t.prev=27,t.prev=28,a||null==i.return||i.return();case 30:if(t.prev=30,!r){t.next=33;break}throw s;case 33:return t.finish(30);case 34:return t.finish(27);case 35:case"end":return t.stop()}},e,this,[[3,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getTitle",value:function(){var t=this.rawContent,n=(t=(0,e.parseText)(t,this.titleLength+"[]".length)).match(/^\[(.*)\]/);return this.titleMatch=!!n,n?n[1]:t}},{key:"getContent",value:function(){return this.titleMatch?this.rawContent.slice(this.title.length+"[]".length):this.rawContent}}]),a}(),N=function(n){function r(t){var e;return f(this,r),(e=c(this,y(r).call(this))).tx=t.transactionHash,e.rawContent=t.returnValues.content,e.content=e.getContent(),e.vote=+t.returnValues.vote,e}return d(r,W),b(r,[{key:"init",value:function(){var e=p(t.default.mark(function e(){var n,s,i,o;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.eth.getTransaction(this.tx);case 2:return this.transaction=t.sent,this.author=this.transaction.from,t.next=6,Promise.all([v.eth.getBlock(this.transaction.blockNumber),r.getAuthorMeta(this.transaction.from)]);case 6:n=t.sent,s=a(n,2),i=s[0],o=s[1],this.block=i,this.timestamp=this.block.timestamp,this.authorMeta=o;case 13:case"end":return t.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getContent",value:function(){return(0,e.parseText)(this.rawContent,this.commentLength)}}]),r}(),R=function(){function n(){f(this,n),this.account="",this.fromBlock=T,this.commentLength=j,this.titleLength=L,this.perPageLength=I}return b(n,[{key:"init",value:function(){var e=p(t.default.mark(function e(n,a){return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",console.error("Can't find Web3."));case 2:return this.dettweb3=n,v=new a(new a.providers.WebsocketProvider("wss://mainnet-rpc.dexon.org/ws")),w=new a(new a.providers.WebsocketProvider("wss://mainnet-rpc.dexon.org/ws")),this.cacheweb3=w,this.__contracts={},this.__contracts.dettBBSExt=new v.eth.Contract(g,E),this.__contracts.dettBBSEdit=new v.eth.Contract(k,P),this.__contracts.dettBBSPB=new v.eth.Contract(M,A),this.__contractsFromInjectedWeb3={},this.__contractsFromInjectedWeb3.dettBBSExt=this.dettweb3?new this.dettweb3.eth.Contract(g,E):null,this.__contractsFromInjectedWeb3.dettBBSEdit=this.dettweb3?new this.dettweb3.eth.Contract(k,P):null,this.__contractsFromInjectedWeb3.dettBBSPB=this.dettweb3?new this.dettweb3.eth.Contract(M,A):null,this.setWallet(null),this.BBS=new v.eth.Contract(x,S),this.BBSExt=new v.eth.Contract(g,E),this.BBSAdmin=new v.eth.Contract(B,C),this.BBSEdit=new v.eth.Contract(k,P),this.BBSPB=new v.eth.Contract(M,A),this.BBSCache=new w.eth.Contract(_,O),t.next=23,this.BBSEdit.getPastEvents("Edited",{fromBlock:this.fromBlock});case 23:this.BBSEditEvents=t.sent;case 24:case"end":return t.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setWallet",value:function(t){if(t){Object.assign(this,this.__contracts);t.getAddressString();var e=v.eth.accounts.privateKeyToAccount("0x".concat(t.getPrivateKey().toString("hex")));v.eth.accounts.wallet.add(e),console.log("wallet added",v.eth.accounts)}else Object.assign(this,this.__contractsFromInjectedWeb3),console.log("using injected wallet")}},{key:"getArticles",value:function(){var e=p(t.default.mark(function e(){var n,r,s,i,o,u,c,l=this,y=arguments;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.length>0&&void 0!==y[0]?y[0]:{},r=n.fromBlock,s=void 0===r?null:r,i=n.toBlock,o=void 0===i?null:i,u=s?s.split("-")[0]:this.fromBlock,c=o?o.split("-")[0]:"latest",e.next=5,this.BBS.getPastEvents("Posted",{fromBlock:u,toBlock:c});case 5:return this.BBSEvents=e.sent,s&&this.BBSEvents.splice(0,+s.split("-")[1]+1),o&&this.BBSEvents.splice(I,this.BBSEvents.length-I),e.abrupt("return",this.BBSEvents.map(function(){var e=p(t.default.mark(function e(n){var r,s,i,o,u;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([l.getArticle(n.transactionHash,!1),l.getVotes(n.transactionHash),l.getBanned(n.transactionHash)]);case 2:return r=t.sent,s=a(r,3),i=s[0],o=s[1],u=s[2],t.abrupt("return",[i,o,u]);case 8:case"end":return t.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getArticle",value:function(){var e=p(t.default.mark(function e(n,a){var r,s,i;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.eth.getTransaction(n);case 2:if(r=t.sent,this.isDettTx(r.to)){t.next=5;break}return t.abrupt("return",null);case 5:return s=new F(r),t.next=8,s.init();case 8:if(!a){t.next=13;break}if(!((i=this.BBSEditEvents.filter(function(t){return t.returnValues.origin===n})).length>0)){t.next=13;break}return t.next=13,s.initEdits(i);case 13:return t.abrupt("return",s);case 14:case"end":return t.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getVotes",value:function(){var e=p(t.default.mark(function e(n){var r,s,i,o;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.BBSExt.methods.upvotes(n).call(),this.BBSExt.methods.downvotes(n).call()]);case 2:return r=t.sent,s=a(r,2),i=s[0],o=s[1],t.abrupt("return",i-o);case 7:case"end":return t.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getVoted",value:function(){var e=p(t.default.mark(function e(n){return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.BBSExt.methods.voted(this.account,n).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBanned",value:function(){var e=p(t.default.mark(function e(n){return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.BBSAdmin.methods.banned(n).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=p(t.default.mark(function e(n){var r,s=this;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.BBSExt.getPastEvents("Replied",{fromBlock:this.fromBlock});case 2:return r=e.sent,e.abrupt("return",r.filter(function(t){return n==t.returnValues.origin}).map(function(){var e=p(t.default.mark(function e(n){var r,i,o;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([s.getComment(n)]);case 2:return r=t.sent,i=a(r,1),o=i[0],t.abrupt("return",[o]);case 6:case"end":return t.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getComment",value:function(){var e=p(t.default.mark(function e(n){var a;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new N(n),t.next=3,a.init();case 3:return t.abrupt("return",a);case 4:case"end":return t.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRegisterFee",value:function(t){return this.BBSPB.methods.fee().call()}},{key:"getRegisterHistory",value:function(){return this.BBSPB.getPastEvents("allEvents",{fromBlock:0})}},{key:"checkIdAvailable",value:function(){var e=p(t.default.mark(function e(n){return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.BBSPB.methods.register(n).estimateGas({value:"0x7"+"f".repeat(63)});case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),console.log("checkIdAvailable",t.t0),t.abrupt("return",!1);case 10:case"end":return t.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"registerName",value:function(){var n=p(t.default.mark(function n(a,r){var s;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dettBBSPB.methods.register(a).estimateGas({value:r});case 2:return s=t.sent,t.prev=3,t.next=6,(0,e.awaitTx)(this.dettBBSPB.methods.register(a).send({from:this.account,gas:2*s,value:r}));case 6:window.location.reload(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),alert(t.t0);case 12:case"end":return t.stop()}},n,this,[[3,9]])}));return function(t,e){return n.apply(this,arguments)}}()},{key:"getMetaByAddress",value:function(t){return W.getAuthorMeta(t)}},{key:"reply",value:function(){var e=p(t.default.mark(function e(n,a,r){var s;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if([0,1,2].includes(+a)){t.next=2;break}return t.abrupt("return",alert("Wrong type of replyType."));case 2:if(r.length){t.next=4;break}return t.abrupt("return",alert("No content."));case 4:if(!n){t.next=16;break}return t.next=7,this.dettBBSExt.methods.Reply(n,+a,r).estimateGas();case 7:return s=t.sent,t.prev=8,t.next=11,this.dettBBSExt.methods.Reply(n,+a,r).send({from:this.account,gas:s}).on("confirmation",function(t,e){window.location.reload()});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),alert(t.t0);case 16:case"end":return t.stop()}},e,this,[[8,13]])}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=p(t.default.mark(function e(n,a){var r,s;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>this.titleLength)){t.next=2;break}return t.abrupt("return",alert("Title's length is over 40 characters."));case 2:return r="["+n+"]"+a,t.next=5,this.dettBBSExt.methods.Post(r).estimateGas();case 5:return s=t.sent,t.prev=6,t.next=9,this.dettBBSExt.methods.Post(r).send({from:this.account,gas:s}).on("confirmation",function(t,e){window.location="/"});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),alert(t.t0);case 14:case"end":return t.stop()}},e,this,[[6,11]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"edit",value:function(){var e=p(t.default.mark(function e(n,a,r){var s,i,o;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>this.titleLength)){t.next=2;break}return t.abrupt("return",alert("Title's length is over 40 characters."));case 2:return t.next=4,v.eth.getTransaction(n);case 4:if(s=t.sent,this.account.toLowerCase()===s.from.toLowerCase()){t.next=7;break}return t.abrupt("return",alert("You can not edit this article."));case 7:return i="["+a+"]"+r,t.next=10,this.dexonBBSEdit.methods.edit(n,i).estimateGas();case 10:return o=t.sent,t.prev=11,t.next=14,this.dettBBSEdit.methods.edit(n,i).send({from:this.account,gas:o}).on("confirmation",function(t,e){window.location="/"});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(11),alert(t.t0);case 19:case"end":return t.stop()}},e,this,[[11,16]])}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getOriginalTx",value:function(){var e=p(t.default.mark(function e(n){var a,r;return t.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.cacheweb3.utils.padLeft(this.cacheweb3.utils.toHex(n),64),t.next=3,this.BBSCache.methods.links(a).call();case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"rewardAuthor",value:function(t,e){return this.dettweb3?this.dettweb3.eth.sendTransaction({from:this.account,to:t.author,value:Web3.utils.toWei(e)}):(alert("Please connect to your DEXON Wallet first."),Promise.reject())}},{key:"isDettTx",value:function(t){return[E,S,"0x9b985Ef27464CF25561f0046352E03a09d2C2e0C"].map(function(t){return t.toLowerCase()}).includes(t.toLowerCase())}},{key:"wallet",get:function(){return this.__wallet}}]),n}(),V=R;exports.default=V;
},{"@babel/runtime/regenerator":"PMvg","./utils":"2138"}],"we3F":[function(require,module,exports) {
"use strict";var e=u(require("@babel/runtime/regenerator")),t=u(require("./dexon.js")),n=u(require("./dett.js")),r=require("./utils.js");function u(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,u,a,i){try{var o=e[a](i),c=o.value}catch(s){return void n(s)}o.done?t(c):Promise.resolve(c).then(r,u)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,u){var i=e.apply(t,n);function o(e){a(i,r,u,o,c,"next",e)}function c(e){a(i,r,u,o,c,"throw",e)}o(void 0)})}}var o=null,c="",s="0",f=function(e){c=e,o.account=c,c?o.getMetaByAddress(c).then(function(e){var t=e.name;$("#main-content-nickname").text(t.length?t:"(未註冊)"),$(".member-zone").show()}):$(".member-zone").hide(),$("#main-content-address").text(c)},l=function(e){var t=$(".--rule");t.removeClass("f1 f2 hl");var n=[function(e){return e.match(/^[A-Za-z0-9 ]{3,12}$/)},function(e){return!e.match(/(?:^0[Xx]|^ | $)/)},function(e){return!e.match(/^\d+$/)},function(e){return!e.match(/  +/)}].every(function(n,r){return n(e)?(t.eq(r).addClass("hl f2"),!0):(t.eq(r).addClass("hl f1"),!1)});return n?($("#register-ok").show(),$("#register-no").hide(),$("#register-fee").text("".concat(Web3.utils.fromWei(s.toString())," DXN"))):($("#register-ok").hide(),$("#register-no").show()),n},d=function(){var t=i(e.default.mark(function t(n){return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l(n)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,o.checkIdAvailable(n);case 4:if(e.sent){e.next=7;break}return alert("抱歉，此暱稱可能已被使用！"),e.abrupt("return");case 7:return e.next=9,o.registerName(n,s);case 9:case"end":return e.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=i(e.default.mark(function t(r){var u,a,i;return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=r._dexon,o=new n.default,e.next=4,o.init(u.dexonWeb3,Web3);case 4:return u.identityManager.on("login",function(e){var t=e.account,n=e.wallet;f(t),o.setWallet(n)}),u.identityManager.init(),(a=$("#register-nickname")).on("input",function(e){return l($(e.currentTarget).val())}),$("#register-submit").click(function(){return d(a.val())}),e.next=11,o.getRegisterFee();case 11:return s=e.sent,l(a.val()),e.next=15,o.getRegisterHistory();case 15:i=e.sent,console.log(i);case 17:case"end":return e.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();_layoutInit().then(h);
},{"@babel/runtime/regenerator":"PMvg","./dexon.js":"uUAn","./dett.js":"7mu2","./utils.js":"2138"}]},{},["we3F"], null)